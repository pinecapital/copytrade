<!DOCTYPE html>
<html>
<head>
    <title>Update Client Details</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function toggleAddClientForm() {
            var form = document.getElementById('addClientForm');
            form.style.display = form.style.display === 'none' ? 'block' : 'none';
        }

        function hideAddClientForm() {
            var form = document.getElementById('addClientForm');
            form.style.display = 'none';
        }
    </script>
</head>
<body>
    <div class="container">
        <h2>Client Names and Quantities:</h2>

        <div class="client-list">
            {% for client, details in clients.items() %}
                <div class="client-item">
                    <span>{{ client }} - Qty: {{ details.qty }} : {{ details.clientsymbol }}</span>
                    <form class="update-qty-form" method="post">
                        <input type="hidden" name="client_name" value="{{ client }}">
                        <input type="number" name="new_qty" placeholder="New Quantity" required>
                        <button type="submit">Update</button>
                    </form>
                    <form class="update-symbol-form" method="post">
                        <input type="hidden" name="client_name" value="{{ client }}">
                        <input type="text" name="clientsymbol" placeholder="New Symbol" required>
                        <input type="submit" name="update_symbol" value="Update Symbol">
                    </form>
                    <form class="delete-client-form" method="post" action="{{ url_for('delete_client', client_name=client) }}">
                        <button type="submit" onclick="return confirm('Are you sure you want to delete this client?');">Delete</button>
                    </form>
                </div>
            {% endfor %}
        </div>


        <button id="toggleAddClientForm" onclick="toggleAddClientForm()">Add New Client</button>
        <div id="addClientForm" style="display: none;">
            <h2>New Client Details:</h2>


            <form method="post" class="form-new-client">
                <input type="text" name="new_client_name" placeholder="New client name" required />
                <input type="text" name="appname" placeholder="App Name" required />
                <input type="text" name="appsource" placeholder="App Source" required />
                <input type="text" name="userid" placeholder="userid" required />
                <input type="text" name="password" placeholder="password" required />
                <input type="text" name="userkey" placeholder="userkey" required />
                <input type="text" name="enckey" placeholder="enckey" required />
                <input type="text" name="clientcode" placeholder="clientcode" required />
                <input type="text" name="pin" placeholder="pin" required />
                <input type="text" name="totp" placeholder="totp" required />
                <input type="number" name="qty" placeholder="Quantity" required />
                <!-- Add other fields similarly -->
                <button type="submit">Add Client</button>
                <button type="button" onclick="hideAddClientForm()">Cancel</button>

            </form> 
        </div>

    </div>
</body>
</html>
